## -*- mode: makefile -*-

## 
## This file is part of the Score-P software (http://www.score-p.org)
##
## Copyright (c) 2009-2012, 
##    RWTH Aachen University, Germany
##    Gesellschaft fuer numerische Simulation mbH Braunschweig, Germany
##    Technische Universitaet Dresden, Germany
##    University of Oregon, Eugene, USA
##    Forschungszentrum Juelich GmbH, Germany
##    German Research School for Simulation Sciences GmbH, Juelich/Aachen, Germany
##    Technische Universitaet Muenchen, Germany
##
## See the COPYING file in the package base directory for details.
##

## file       Makefile.inc.am
## author     Christian Roessel <c.roessel@fz-juelich.de>
## maintainer Christian Roessel <c.roessel@fz-juelich.de>


check_PROGRAMS += self_contained_scorep_subsystem_c          \
                  self_contained_scorep_config_c             \
                  self_contained_scorep_definitions_c        \
                  self_contained_scorep_events_c             \
                  self_contained_scorep_memory_c             \
                  self_contained_scorep_public_types_c       \
                  self_contained_scorep_runtime_management_c \
                  self_contained_scorep_location_c           \
                  self_contained_scorep_types_c              \
                  definitions_test_c                         \
                  string_duplicates_c

self_contained_cppflags = \
    $(AM_CPPFLAGS) \
    -I$(INC_ROOT)src/measurement/include \
    -I$(INC_DIR_UTIL_INTERNAL) \
    -I$(INC_DIR_UTIL) \
    -I$(PUBLIC_INC_DIR)

self_contained_scorep_subsystem_c_SOURCES = $(SRC_ROOT)test/measurement/self_contained_scorep_subsystem.c
self_contained_scorep_subsystem_c_CPPFLAGS = $(self_contained_cppflags)

self_contained_scorep_config_c_SOURCES = $(SRC_ROOT)test/measurement/self_contained_scorep_config.c
self_contained_scorep_config_c_CPPFLAGS = $(self_contained_cppflags)

self_contained_scorep_definitions_c_SOURCES = $(SRC_ROOT)test/measurement/self_contained_scorep_definitions.c
self_contained_scorep_definitions_c_CPPFLAGS = $(self_contained_cppflags)

self_contained_scorep_events_c_SOURCES = $(SRC_ROOT)test/measurement/self_contained_scorep_events.c
self_contained_scorep_events_c_CPPFLAGS = $(self_contained_cppflags)

self_contained_scorep_memory_c_SOURCES = $(SRC_ROOT)test/measurement/self_contained_scorep_memory.c
self_contained_scorep_memory_c_CPPFLAGS = $(self_contained_cppflags)

self_contained_scorep_public_types_c_SOURCES = $(SRC_ROOT)test/measurement/self_contained_scorep_public_types.c
self_contained_scorep_public_types_c_CPPFLAGS = $(self_contained_cppflags)

self_contained_scorep_runtime_management_c_SOURCES = $(SRC_ROOT)test/measurement/self_contained_scorep_runtime_management.c
self_contained_scorep_runtime_management_c_CPPFLAGS = $(self_contained_cppflags)

self_contained_scorep_location_c_SOURCES = $(SRC_ROOT)test/measurement/self_contained_scorep_location.c
self_contained_scorep_location_c_CPPFLAGS = $(self_contained_cppflags)

self_contained_scorep_types_c_SOURCES = $(SRC_ROOT)test/measurement/self_contained_scorep_types.c
self_contained_scorep_types_c_CPPFLAGS = $(self_contained_cppflags)

definitions_test_c_SOURCES  = $(SRC_ROOT)test/measurement/definitions_test.c \
                              $(SRC_ROOT)vendor/common/cutest/CuTest.c
definitions_test_c_CPPFLAGS = $(AM_CPPFLAGS) \
                              -I$(INC_ROOT)vendor/common/cutest \
                              -I$(INC_ROOT)src/measurement \
                              -I$(INC_ROOT)src/measurement/include \
                              -I$(PUBLIC_INC_DIR) \
                              -I$(INC_DIR_UTIL_INTERNAL) \
                              -I$(INC_DIR_UTIL) \
                              -I$(INC_DIR_VENDOR_HASH)
definitions_test_c_LDADD = libscorep_serial.la
if HAVE_PAPI
definitions_test_c_LDFLAGS  = $(SCOREP_PAPI_LDFLAGS) $(SCOREP_PAPI_LIBS) -Wl,-rpath,$(SCOREP_PAPI_LIBDIR)
endif

TESTS_SERIAL += definitions_test_c

string_duplicates_c_SOURCES  = $(SRC_ROOT)test/measurement/string_duplicates.c \
                               $(SRC_ROOT)vendor/common/cutest/CuTest.c
string_duplicates_c_CPPFLAGS = $(AM_CPPFLAGS) \
                               -I$(INC_ROOT)vendor/common/cutest \
                               -I$(INC_ROOT)src/measurement \
                               -I$(INC_ROOT)src/measurement/include \
                               -I$(PUBLIC_INC_DIR) \
                               -I$(INC_DIR_UTIL_INTERNAL) \
                               -I$(INC_DIR_UTIL) \
                               -I$(INC_DIR_VENDOR_HASH)
string_duplicates_c_LDADD    = libscorep_serial.la
if HAVE_PAPI
string_duplicates_c_LDFLAGS  = $(SCOREP_PAPI_LDFLAGS) $(SCOREP_PAPI_LIBS) -Wl,-rpath,$(SCOREP_PAPI_LIBDIR)
endif

TESTS_SERIAL += string_duplicates_c
